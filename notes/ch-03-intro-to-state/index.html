<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://g-savitha.github.io/css/base.css media=all><link rel=stylesheet href=https://g-savitha.github.io/css/syntax.css media=all><link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel=stylesheet><script async src=https://kit.fontawesome.com/66c0687ece.js crossorigin=anonymous></script><meta name=description content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 What is State? Thinking about state In any sufficiently advanced web application, the user interface has to be stateful.
 logged-in users see a different screen than logged-out users clicking ‚Äúedit profile‚Äù opens up a modal (pop-up) window sections of a website can expand or collapse, for instance clicking ‚Äúread more‚Äù  The state of the client interface (frontend) is not always directly tied to state on the server."><meta name=title content="Intro to State | Savitha's Notes"><meta name=keywords content="tech,programming,javascript,react,rust,nodejs,node,mongodb,postgresql"><meta name=robots content="index, follow"><meta charset=utf-8><meta name=language content="English"><meta name=revisit-after content="2 days"><meta name=author content="Abdus <mail@abdus.xyz>"><meta property="og:type" content="website"><meta property="og:url" content="https://g-savitha.github.io/notes/ch-03-intro-to-state/"><meta property="og:title" content="Intro to State | Savitha's Notes"><meta property="og:description" content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 What is State? Thinking about state In any sufficiently advanced web application, the user interface has to be stateful.
 logged-in users see a different screen than logged-out users clicking ‚Äúedit profile‚Äù opens up a modal (pop-up) window sections of a website can expand or collapse, for instance clicking ‚Äúread more‚Äù  The state of the client interface (frontend) is not always directly tied to state on the server."><meta property="og:image" content="https://g-savitha.github.io/images/default-meta-img.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://g-savitha.github.io/notes/ch-03-intro-to-state/"><meta property="twitter:title" content="Intro to State | Savitha's Notes"><meta property="twitter:description" content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 What is State? Thinking about state In any sufficiently advanced web application, the user interface has to be stateful.
 logged-in users see a different screen than logged-out users clicking ‚Äúedit profile‚Äù opens up a modal (pop-up) window sections of a website can expand or collapse, for instance clicking ‚Äúread more‚Äù  The state of the client interface (frontend) is not always directly tied to state on the server."><meta property="twitter:image" content="https://g-savitha.github.io/images/default-meta-img.png"><title>Intro to State | Savitha's Notes</title><meta name=google-site-verification content="SaBE4itR48HOEifszgie57M1Y1O9Ayk_rV5cBwah9LY"><body><small class=top-nav><a href=/>~/Home</a>
<a href=/notes/>~/Notes</a>
<a href=/categories/>~/Categories</a></small>
<a href=https://g-savitha.github.io/ style=text-align:center;display:block;margin-top:3rem><div class=logo><span>#"</span><span>Savitha's Notes</span><span>"</span></div></a><div id=content><div style="text-align:center;margin:3rem 0"><h2>Intro to State</h2><small>24 August, 2020&nbsp;&nbsp;&#183;&nbsp;&nbsp;</small>
<small><a style=text-decoration:none href=/categories/react>React</a></small></div><div style=margin-bottom:3rem><a style=display:inline-block;color:gray;text-decoration:none;font-size:.9em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100% href=https://www.udemy.com/course/modern-react-bootcamp/><i style=font-size:.75em;color:#d3d3d3 class="fas fa-link"></i>&nbsp; https://www.udemy.com/course/modern-react-bootcamp/</a></div><div class=section-content style=color:#252525><blockquote><p>Note: These notes are taken from <a href=https://github.com/Colt>Colt steele&rsquo;s</a> <a href=https://www.udemy.com/course/modern-react-bootcamp/>Modern React Bootcamp course</a></p></blockquote><h1 id=what-is-state>What is State?</h1><h2 id=thinking-about-state>Thinking about state</h2><p>In any sufficiently advanced web application, the user interface has to be stateful.</p><ul><li>logged-in users see a different screen than logged-out users</li><li>clicking ‚Äúedit profile‚Äù opens up a modal (pop-up) window</li><li>sections of a website can expand or collapse, for instance clicking ‚Äúread more‚Äù</li></ul><p>The state of the client interface (frontend) is not always directly tied to state on the server.</p><p>Why would the server need to know if a modal is open?</p><h2 id=state-changes>State changes</h2><p>State is designed to <em>constantly change in response to events</em>.</p><p>A great way to think about state is to think of games, for instance chess. At any point in time, the board is in a complex state.</p><p><img src=https://images.chesscomfiles.com/uploads/v1/images_users/tiny_mce/SamCopeland/phpuTejFE.gif alt=chess></p><p><em>Every new move represents a single discrete state change.</em></p><h2 id=what-does-state-track>What Does State Track?</h2><p>There are two types of things state on the client/frontend keeps track of:</p><ul><li><em>UI logic</em> - the <em><strong>changing state of the interface</strong></em> e.g., there is a modal open right now because I‚Äôm editing my profile</li><li><em>business logic</em> - the <em><strong>changing state of data</strong></em> e.g., in my inbox, messages are either read or unread, and this in turn affects how they display.</li></ul><h3 id=vanilla--jquery-state>Vanilla / jQuery State</h3><p>The way we kept track of state with jQuery was by selecting DOM elements and seeing if they were displayed/hidden, or if they had certain styles or attributes.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=c1>// getting a text input value
</span><span class=ln>2</span><span class=c1></span><span class=kd>var</span> <span class=nx>firstName</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=s2>&#34;#firstNameInput&#34;</span><span class=p>).</span><span class=nx>val</span><span class=p>();</span>
<span class=ln>3</span><span class=c1>// setting a text input value
</span><span class=ln>4</span><span class=c1></span><span class=nx>$</span><span class=p>(</span><span class=s2>&#34;#firstNameInput&#34;</span><span class=p>).</span><span class=nx>val</span><span class=p>(</span><span class=s2>&#34;Michael&#34;</span><span class=p>);</span>
</code></pre></div><p>In other words, we were inferring the state of the application from the DOM itself.</p><p>React is going to do the opposite!</p><p>To review..</p><p><em>State:</em></p><ul><li><em>Internal data specific to a component</em></li><li><em>Data that changes over time!</em></li></ul><h1 id=react-state>React State</h1><p>In <em>React</em>, <em><strong>state is an instance attribute</strong></em> on a <em>component.</em> It‚Äôs <em><strong>always an object</strong></em> (POJO -> Plain old JS Object), since <em><strong>you‚Äôll want to keep track of several keys/values</strong></em>.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=c1>// what is the current state of my component?
</span><span class=ln>2</span><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>);</span>
<span class=ln>3</span>
<span class=ln>4</span><span class=p>{</span>
<span class=ln>5</span>  <span class=nx>playerName</span><span class=o>:</span> <span class=s2>&#34;Whiskey&#34;</span><span class=p>,</span>
<span class=ln>6</span>  <span class=nx>score</span><span class=o>:</span> <span class=mi>100</span>
<span class=ln>7</span><span class=p>}</span>
</code></pre></div><h2 id=initial-state>Initial State</h2><p>State <em>should be initialized as soon as the component is created</em>. So we <em><strong>set it in the constructor function</strong></em>:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>class</span> <span class=nx>ClickCount</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln>4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln>5</span>      <span class=nx>numClicks</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span> <span class=c1>// start at zero clicks
</span><span class=ln>6</span><span class=c1></span>    <span class=p>};</span>
<span class=ln>7</span>  <span class=p>}</span>
<span class=ln>8</span><span class=p>}</span>
</code></pre></div><h3 id=react-constructor-function>React Constructor Function</h3><p>If your component is <em>stateless</em>, you can <strong>omit the constructor</strong> function. If you are building a component with <em>state</em>, you need a standard React <strong>constructor</strong></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln>3</span>  <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln>4</span>    <span class=cm>/* values we want to track */</span>
<span class=ln>5</span>  <span class=p>};</span>
<span class=ln>6</span><span class=p>}</span>
</code></pre></div><ul><li><strong>constructor</strong> takes <em>one argument</em>, <em><em>props</em></em></li><li>You <em><strong>must call super(props) at start of constructor</strong></em>, which <strong>‚Äúregisters‚Äù your class as a React Component</strong></li><li><strong>Inside the instance methods</strong>, you can refer to <em>this.state just like you did this.props</em></li></ul><p>State can be defined using the new public fields syntax</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>class</span> <span class=nx>ClickCount</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>numClicks</span><span class=o>:</span> <span class=mi>0</span> <span class=p>};</span>
<span class=ln>3</span>  <span class=c1>// ...
</span><span class=ln>4</span><span class=c1></span><span class=p>}</span>
</code></pre></div><p>Notice that it is <em>state</em>, not <del>this.state</del>, when done like this.</p><h4 id=example>Example:</h4><p><em>demo/basicExample.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>Game</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln> 5</span>      <span class=nx>player</span><span class=o>:</span> <span class=s2>&#34;Whiskey&#34;</span><span class=p>,</span>
<span class=ln> 6</span>      <span class=nx>score</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
<span class=ln> 7</span>    <span class=p>};</span>
<span class=ln> 8</span>  <span class=p>}</span>
<span class=ln> 9</span>
<span class=ln>10</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>11</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>12</span>      <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=ln>13</span>        <span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>Battleship</span><span class=o>&lt;</span><span class=err>/h1&gt;</span>
<span class=ln>14</span>        <span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span><span class=nx>Current</span> <span class=nx>Player</span><span class=o>:</span> <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>player</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=ln>15</span>        <span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span><span class=nx>Score</span><span class=o>:</span> <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>score</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=ln>16</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>17</span>    <span class=p>);</span>
<span class=ln>18</span>  <span class=p>}</span>
<span class=ln>19</span><span class=p>}</span> <span class=c1>// end
</span></code></pre></div><h2 id=changing-state>Changing State</h2><p><em><strong>this.setState()</strong></em> is the built-in React method of changing a component‚Äôs state.
<code>this.setState({ playerName: "Matt", score: 0 })</code></p><ul><li><em>Can call in any instance method</em> except the <strong>constructor</strong></li><li>Takes an <em>object describing the state changes</em></li><li><em>Patches state object</em> ‚Äî keys that you didn‚Äôt specify don‚Äôt change</li><li><strong>Asynchronous</strong>!<ul><li>The component <em>state will eventually update</em>.</li><li>React controls when the state will actually change, for performance reasons.</li></ul></li><li><strong>Components re-render</strong> when their <em>state changes</em></li></ul><p><em>demo/click-me/src/Rando.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>Rando</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>num</span><span class=o>:</span> <span class=mi>0</span> <span class=p>};</span>
<span class=ln> 5</span>    <span class=k>this</span><span class=p>.</span><span class=nx>makeTimer</span><span class=p>();</span>
<span class=ln> 6</span>  <span class=p>}</span>
<span class=ln> 7</span>
<span class=ln> 8</span>  <span class=nx>makeTimer</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 9</span>    <span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
<span class=ln>10</span>      <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span>
<span class=ln>11</span>        <span class=nx>num</span><span class=o>:</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>maxNum</span><span class=p>),</span>
<span class=ln>12</span>      <span class=p>});</span>
<span class=ln>13</span>    <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
<span class=ln>14</span>  <span class=p>}</span>
<span class=ln>15</span>
<span class=ln>16</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>17</span>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Rando</span><span class=o>:</span> <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>num</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=ln>18</span>  <span class=p>}</span>
<span class=ln>19</span><span class=p>}</span> <span class=c1>// end
</span></code></pre></div><h2 id=react-events>React Events</h2><p><em>State</em> most commonly <em>changes</em> in direct <em>response to some event</em>. In React, <em>every JSX element has built-in attributes representing every kind of browser event.</em> They are camel-cased, like <em>onClick</em>, and <em><strong>take callback functions as event listeners</strong></em>.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=o>&lt;</span><span class=nx>button</span>
<span class=ln>2</span>  <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=kd>function</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>3</span>    <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You clicked me!&#34;</span><span class=p>);</span>
<span class=ln>4</span>  <span class=p>}}</span>
<span class=ln>5</span><span class=o>&gt;</span>
<span class=ln>6</span>  <span class=nx>Click</span> <span class=nx>Me</span><span class=o>!</span>
<span class=ln>7</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
</code></pre></div><blockquote><p>React Events are a bit of an abstraction on top of regular browser events. They‚Äôre called <a href=https://reactjs.org/docs/events.html#overview>synthetic events</a>, but in practice they behave the same and you don‚Äôt have to worry about the abstraction. Check out the React documentation for all types of <a href=https://reactjs.org/docs/events.html#supported-events>supported events</a>.</p></blockquote><h3 id=example--broken-click>Example : Broken Click</h3><p>If we‚Äôre updating state in response to an event, we‚Äôll have to call a method with <code>this.setState()</code>:</p><p><em>demo/click-me/src/BrokenClick.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>BrokenClick</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>clicked</span><span class=o>:</span> <span class=kc>false</span> <span class=p>};</span>
<span class=ln> 5</span>  <span class=p>}</span>
<span class=ln> 6</span>
<span class=ln> 7</span>  <span class=nx>handleClick</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 8</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span> <span class=nx>clicked</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
<span class=ln> 9</span>  <span class=p>}</span>
<span class=ln>10</span>
<span class=ln>11</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>12</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>13</span>      <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=ln>14</span>        <span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span>
<span class=ln>15</span>          <span class=nx>The</span> <span class=nx>Button</span> <span class=nx>is</span>
<span class=ln>16</span>          <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>clicked</span> <span class=o>?</span> <span class=s2>&#34;clicked&#34;</span> <span class=o>:</span> <span class=s2>&#34;not clicked&#34;</span><span class=p>}</span>
<span class=ln>17</span>        <span class=o>&lt;</span><span class=err>/h1&gt;</span>
<span class=ln>18</span>        <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Broken</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=ln>19</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>20</span>    <span class=p>);</span>
<span class=ln>21</span>  <span class=p>}</span>
<span class=ln>22</span><span class=p>}</span> <span class=c1>// end
</span></code></pre></div><p><em><em><code>this</code></em></em> is back!!</p><p>But <em>this</em> is undefined!</p><ul><li>Who is calling handleClick for us?<ul><li>React is, on click</li></ul></li><li>What is it calling it on?<ul><li>ü§∑ it doesn‚Äôt remember to call it on our instance</li><li>The method was called ‚Äúout of context‚Äù</li></ul></li><li>What do we do?<ul><li><em><strong><code>.bind()</code> it!</strong></em></li></ul></li></ul><h3 id=example--fixed-click>Example : Fixed click</h3><p>We‚Äôll fix the situation by <em><strong>binding our instance methods in the constructor</strong></em>.</p><p><em>demo/click-me/src/FixedClick.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>FixedClick</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>clicked</span><span class=o>:</span> <span class=kc>false</span> <span class=p>};</span>
<span class=ln> 5</span>    <span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln> 6</span>  <span class=p>}</span>
<span class=ln> 7</span>
<span class=ln> 8</span>  <span class=nx>handleClick</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 9</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span> <span class=nx>clicked</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
<span class=ln>10</span>  <span class=p>}</span>
<span class=ln>11</span>
<span class=ln>12</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>13</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>14</span>      <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=ln>15</span>        <span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span>
<span class=ln>16</span>          <span class=nx>The</span> <span class=nx>Button</span> <span class=nx>is</span>
<span class=ln>17</span>          <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>clicked</span> <span class=o>?</span> <span class=s2>&#34;clicked&#34;</span> <span class=o>:</span> <span class=s2>&#34;not clicked&#34;</span><span class=p>}</span>
<span class=ln>18</span>        <span class=o>&lt;</span><span class=err>/h1&gt;</span>
<span class=ln>19</span>        <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Fixed</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=ln>20</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>21</span>    <span class=p>);</span>
<span class=ln>22</span>  <span class=p>}</span>
<span class=ln>23</span><span class=p>}</span> <span class=c1>// end
</span></code></pre></div><h1 id=states-vs-props>States vs Props.</h1><p>State and Props are the most important concepts in React (after knowing what a ‚Äúcomponent‚Äù is).</p><table><thead><tr><th><em>term</em></th><th><em>structure</em></th><th><em>mutable</em></th><th><em>purpose</em></th></tr></thead><tbody><tr><td>state</td><td>POJO <code>{}</code></td><td>yes</td><td>stores changing component data</td></tr><tr><td>props</td><td>POJO <code>{}</code></td><td>no</td><td>stores component configuration</td></tr></tbody></table><h2 id=state-as-props>State as Props</h2><p>A common pattern we will see over and over again is a <em><strong>stateful (‚Äúsmart‚Äù) parent</strong></em> component <em>passing down</em> its <em><em>state</em></em> values <em><em>as props</em></em> <em><strong>to stateless (‚Äúdumb‚Äù) child</strong></em> components.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>CounterParent</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>count</span><span class=o>:</span> <span class=mi>5</span> <span class=p>};</span>
<span class=ln> 5</span>  <span class=p>}</span>
<span class=ln> 6</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 7</span>    <span class=c1>// passing down parent state as a prop to the child
</span><span class=ln> 8</span><span class=c1></span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln> 9</span>      <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=ln>10</span>        <span class=o>&lt;</span><span class=nx>CounterChild</span> <span class=nx>count</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>count</span><span class=p>}</span> <span class=o>/&gt;</span>
<span class=ln>11</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>12</span>    <span class=p>);</span>
<span class=ln>13</span>  <span class=p>}</span>
<span class=ln>14</span><span class=p>}</span>
</code></pre></div><p>This idea is generalized in React as <em><strong>‚Äúdownward data flow‚Äù</strong></em>. It means that <strong>components get simpler as you go down the component hierarchy</strong>, and <em><strong>parents tend to be more stateful</strong></em> than their children.</p><blockquote><p><em>Further Reading</em> : checkout <a href=https://reactjs.org/docs/faq-state.html>React Docs</a> . Two other great resources: <a href=https://github.com/uberVU/react-guide/blob/master/props-vs-state.md>Props vs State</a> > <a href=https://lucybain.com/blog/2016/react-state-vs-pros/>ReactJS : Prop vs State</a></p></blockquote></div><div style=margin-top:2rem><i class="fas fa-tags" style=font-size:.7em;color:gray></i><a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/react>&nbsp;react</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/javascript>&nbsp;javascript</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/es6>&nbsp;es6</a></div><div style=margin-top:5rem><a href=https://g-savitha.github.io/notes/ch-02-cra-modules/ class="prev-next older">CRA and Modules&Rarr;</a>
<a href=https://g-savitha.github.io/notes/ch-04-react-state-patterns/ class="prev-next newer">&Larr;React State Patterns</a></div><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/g-savitha.github.io\/"},"articleSection":"notes","name":"Intro to State","headline":"Intro to State","description":"Note: These notes are taken from Colt steele\u0026rsquo;s Modern React Bootcamp course\n What is State? Thinking about state In any sufficiently advanced web application, the user interface has to be stateful.\n logged-in users see a different screen than logged-out users clicking ‚Äúedit profile‚Äù opens up a modal (pop-up) window sections of a website can expand or collapse, for instance clicking ‚Äúread more‚Äù  The state of the client interface (frontend) is not always directly tied to state on the server.","inLanguage":"en-US","author":"Savitha","creator":"Savitha","publisher":"Savitha","accountablePerson":"Savitha","copyrightHolder":"Savitha","copyrightYear":"24240","datePublished":"2020-08-24 14:57:47 \u002b0530 \u002b0530","dateModified":"2020-08-24 14:57:47 \u002b0530 \u002b0530","url":"https:\/\/g-savitha.github.io\/notes\/ch-03-intro-to-state\/","wordCount":"1178","keywords":["react","javascript","es6","Blog"]}</script><script type=module>
  import { annotate } from "https://unpkg.com/rough-notation?module";

  function checkParent(elem) {
    const parent = elem.parentElement;
    const strong = document.createElement("strong");
    const em = document.createElement("em");
    const del = document.createElement("del");
    console.log(elem.hasChildNodes(), elem);

    if (
      parent.constructor === strong.constructor ||
      parent.constructor === em.constructor ||
      parent.constructor === del.constructor
    )
      return false;
    if (elem.childElementCount > 0) return false;
    return true;
  }

  function annotateElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      const shouldAllowAnnotation = checkParent(elem);
      if (shouldAllowAnnotation)
        annotate(elem, { type, color, multiline: true, animate: false }).show();
    });
  }

  function annotateNestedElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      annotate(elem, {
        type,
        color,
        multiline: true,
        animate: false,
        brackets: ["left", "right", "top", "bottom"],
      }).show();
    });
  }

  try {
    annotateElement("em", "underline", "#2196f3");
    annotateElement("strong", "highlight", "yellow");
    annotateElement("del", "strike-through", "#ff0000");
    annotateNestedElement("em > del", "crossed-off", "#ff0000");
    annotateNestedElement("em > strong", "box", "lawngreen");
    annotateNestedElement("em > em", "circle", "#ff000080");
    annotateNestedElement("blockquote", "bracket", "#da3bf1");
  } catch (exception) {
    console.log(exception.message);
  }
</script><style>.section-content em,.section-content strong,.section-content del{font-style:normal;font-weight:400;text-decoration:none}blockquote{background-color:#fff;padding:.3rem;margin:2rem 0}</style></div><footer style="padding:6rem 1rem 2rem;text-align:center;color:gray"><small style=display:block><code>ch-03-intro-to-state.md</code> was last updated on
<code>1 February, 2021</code>. Generated
from
<a target=_blank href=https://github.com/g-savitha/portfolio/tree/e0e47b66eafdf57e04d50a47e1bbe447029bdf15 style=text-decoration:none><code>e0e47b6</code></a>
because of <code>copyright info</code></small>
<small>built with <a href=https://gohugo.io>hugo</a> and
<span style=color:red>‚ù§Ô∏è</span> <span>&#169; 2020</span>
<a href=https://github.com/g-savitha>Savitha Gollamudi</a></small></footer><script>(()=>{if(document.queryCommandSupported("copy")){const codeBlocks=[...document.querySelectorAll(".highlight")];codeBlocks.forEach((block)=>{block.querySelector("pre.chroma").style.paddingTop="3rem";block.style.position="relative";const handler=document.createElement("button");handler.textContent="COPY";handler.style.position="absolute";handler.style.top="10px";handler.style.right="10px";handler.style.padding="0.25rem 0.5rem";handler.style.background="#272822";handler.style.borderRadius="4px";handler.style.border="1px solid #C9D5DE";handler.style.color="#ffffff";handler.addEventListener("click",()=>{const textarea=document.createElement("textarea");textarea.value=block.querySelector(".chroma > code").textContent;document.body.prepend(textarea);textarea.style.position="absolute";textarea.style.opacity=0;textarea.select();document.execCommand("copy");textarea.remove();handler.textContent="COPIED!";setTimeout(()=>(handler.textContent="COPY"),2000);});const langCard=document.createElement("span");const lang=block.querySelector(".chroma > code").classList.toString().split("language-")[1];langCard.textContent=lang;langCard.style.top="0";langCard.style.left="1rem";langCard.style.color="#ffffff";langCard.style.fontSize="0.7em";langCard.style.position="absolute";langCard.style.background="#3f51b5";langCard.style.padding="0.25rem 0.5rem";langCard.style.textTransform="uppercase";langCard.style.borderRadius="0 0 4px 4px";block.prepend(langCard);block.prepend(handler);});}})();</script></body></html>