<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://g-savitha.github.io/css/base.css media=all><link rel=stylesheet href=https://g-savitha.github.io/css/syntax.css media=all><link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel=stylesheet><script async src=https://kit.fontawesome.com/66c0687ece.js crossorigin=anonymous></script><meta name=description content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 React Events Review Commonly used React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)
Event Attributes Any event you can listen for in JS, you can listen for in React.
Examples:
 Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare."><meta name=title content="React Events | Savitha's Notes"><meta name=keywords content="tech,programming,javascript,react,rust,nodejs,node,mongodb,postgresql"><meta name=robots content="index, follow"><meta charset=utf-8><meta name=language content="English"><meta name=revisit-after content="2 days"><meta name=author content="Abdus <mail@abdus.xyz>"><meta property="og:type" content="website"><meta property="og:url" content="https://g-savitha.github.io/notes/ch-05-react-events/"><meta property="og:title" content="React Events | Savitha's Notes"><meta property="og:description" content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 React Events Review Commonly used React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)
Event Attributes Any event you can listen for in JS, you can listen for in React.
Examples:
 Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare."><meta property="og:image" content="https://g-savitha.github.io/images/default-meta-img.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://g-savitha.github.io/notes/ch-05-react-events/"><meta property="twitter:title" content="React Events | Savitha's Notes"><meta property="twitter:description" content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 React Events Review Commonly used React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)
Event Attributes Any event you can listen for in JS, you can listen for in React.
Examples:
 Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare."><meta property="twitter:image" content="https://g-savitha.github.io/images/default-meta-img.png"><title>React Events | Savitha's Notes</title><meta name=google-site-verification content="SaBE4itR48HOEifszgie57M1Y1O9Ayk_rV5cBwah9LY"><body><small class=top-nav><a href=/>~/Home</a>
<a href=/notes/>~/Notes</a>
<a href=/categories/>~/Categories</a></small>
<a href=https://g-savitha.github.io/ style=text-align:center;display:block;margin-top:3rem><div class=logo><span>#"</span><span>Savitha's Notes</span><span>"</span></div></a><div id=content><div style="text-align:center;margin:3rem 0"><h2>React Events</h2><small>25 August, 2020&nbsp;&nbsp;&#183;&nbsp;&nbsp;</small>
<small><a style=text-decoration:none href=/categories/react>React</a></small></div><div style=margin-bottom:3rem><a style=display:inline-block;color:gray;text-decoration:none;font-size:.9em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100% href=https://www.udemy.com/course/modern-react-bootcamp/><i style=font-size:.75em;color:#d3d3d3 class="fas fa-link"></i>&nbsp; https://www.udemy.com/course/modern-react-bootcamp/</a></div><div class=section-content style=color:#252525><blockquote><p>Note: These notes are taken from <a href=https://github.com/Colt>Colt steele&rsquo;s</a> <a href=https://www.udemy.com/course/modern-react-bootcamp/>Modern React Bootcamp course</a></p></blockquote><h2 id=react-events-review>React Events Review</h2><h3 id=commonly-used-react-events>Commonly used React Events</h3><p>You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)</p><h3 id=event-attributes>Event Attributes</h3><p>Any event you can listen for in JS, you can listen for in React.</p><p><em>Examples:</em></p><ul><li>Mouse events: <code>onClick</code>, <code>onMouseOver</code>, etc</li><li>Form events: <code>onSubmit</code>, etc</li><li>Keyboard events: <code>onKeyDown</code>, <code>onKeyUp</code>, <code>onKeyPress</code></li><li><a href=https://reactjs.org/docs/events.html#supported-events>Full list</a></li></ul><h4 id=example>Example:</h4><p><em>WiseSquare.js</em>:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>Component</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
<span class=ln> 2</span><span class=kr>import</span> <span class=s2>&#34;./WiseSquare.css&#34;</span><span class=p>;</span>
<span class=ln> 3</span>
<span class=ln> 4</span><span class=kr>class</span> <span class=nx>WiseSquare</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 5</span>  <span class=nx>dispenseWisdom</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 6</span>    <span class=kd>let</span> <span class=nx>messages</span> <span class=o>=</span> <span class=p>[</span>
<span class=ln> 7</span>      <span class=cm>/* wise messages go here */</span>
<span class=ln> 8</span>    <span class=p>];</span>
<span class=ln> 9</span>    <span class=kd>let</span> <span class=nx>rIndex</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=nx>messages</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
<span class=ln>10</span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>messages</span><span class=p>[</span><span class=nx>rIndex</span><span class=p>]);</span>
<span class=ln>11</span>  <span class=p>}</span>
<span class=ln>12</span>
<span class=ln>13</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>14</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>15</span>      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>}</span><span class=o>&gt;</span>
<span class=ln>16</span>        <span class=err>üòÉ</span>
<span class=ln>17</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>18</span>    <span class=p>);</span>
<span class=ln>19</span>  <span class=p>}</span>
<span class=ln>20</span><span class=p>}</span>
<span class=ln>21</span>
<span class=ln>22</span><span class=kr>export</span> <span class=k>default</span> <span class=nx>WiseSquare</span><span class=p>;</span>
</code></pre></div><hr><h3 id=the-joys-of-method-binding->The Joys of Method Binding üò©</h3><h4 id=the-keyword-this>The keyword <code>this</code>:</h4><blockquote><p>When your event handlers reference the keyword <em>this</em>, watch out! You will lose the <em>this</em> context <strong>when you pass a function as a handler</strong>. Let‚Äôs see what happens when we try to move our quotes into <em>defaultProps</em>.</p></blockquote><h4 id=example-revisited>Example Revisited</h4><p><em>WiseSquareWithProps.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>WiseSquareWithProps</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=kr>static</span> <span class=nx>defaultProps</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=nx>messages</span><span class=o>:</span> <span class=p>[</span>
<span class=ln> 4</span>      <span class=cm>/* wise messages go here */</span>
<span class=ln> 5</span>    <span class=p>],</span>
<span class=ln> 6</span>  <span class=p>};</span>
<span class=ln> 7</span>
<span class=ln> 8</span>  <span class=nx>dispenseWisdom</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 9</span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;THIS IS:&#34;</span><span class=p>,</span> <span class=k>this</span><span class=p>);</span> <span class=c1>// undefined üò≠
</span><span class=ln>10</span><span class=c1></span>    <span class=kd>let</span> <span class=p>{</span> <span class=nx>messages</span> <span class=p>}</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>;</span>
<span class=ln>11</span>    <span class=kd>let</span> <span class=nx>rIndex</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=nx>messages</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
<span class=ln>12</span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>messages</span><span class=p>[</span><span class=nx>rIndex</span><span class=p>]);</span>
<span class=ln>13</span>  <span class=p>}</span>
<span class=ln>14</span>
<span class=ln>15</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>16</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>17</span>      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>}</span><span class=o>&gt;</span>
<span class=ln>18</span>        <span class=err>üòÉ</span>
<span class=ln>19</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>20</span>    <span class=p>);</span>
<span class=ln>21</span>  <span class=p>}</span>
<span class=ln>22</span><span class=p>}</span>
</code></pre></div><h4 id=fixing-our-binding>Fixing our binding</h4><p>There are three ways to fix this:</p><ul><li>Use <em><strong>bind inline</strong></em></li><li>Use an <em><strong>arrow function</strong></em></li><li>Method <em><strong>bind in the constructor</strong></em></li></ul><h5 id=inline>Inline</h5><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>)}</span><span class=o>&gt;</span>
<span class=ln>2</span>  <span class=p>{</span><span class=cm>/* */</span><span class=p>}</span>
<span class=ln>3</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
</code></pre></div><p><em>Pros:</em></p><ul><li>Very Explicit</li></ul><p><em>Cons:</em></p><p><em>Performance Issues:</em></p><ul><li>What if you need to <em>pass <code>this.dispenseWisdom</code> to multiple components?</em> A <em>new function</em> is created on <em>every render</em></li></ul><h5 id=arrow-functions>Arrow Functions</h5><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>()}</span><span class=o>&gt;</span>
<span class=ln>2</span>  <span class=p>{</span><span class=cm>/* */</span><span class=p>}</span>
<span class=ln>3</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
</code></pre></div><p><em>Pros:</em></p><ul><li>No mention of <del>bind()!</del></li></ul><p><em>Cons:</em></p><ul><li>Intention is less clear.</li></ul><p><em>Performance Issues:</em></p><ul><li>Again, What if you need to <em>pass <code>this.dispenseWisdom</code> to multiple components?</em> A <em>new function</em> is created on <em>every render</em></li></ul><h5 id=in-the-constructor>In the constructor</h5><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>class</span> <span class=nx>WiseSquareWithProps</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln>4</span>    <span class=cm>/* do other stuff */</span>
<span class=ln>5</span>    <span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln>6</span>  <span class=p>}</span>
<span class=ln>7</span><span class=p>}</span>
</code></pre></div><p><em>Pros:</em></p><ul><li>Only need to <em><strong>bind once!</strong></em></li><li>More performant</li></ul><p><em>Cons:</em></p><ul><li>Looks Ugly</li><li><del>HOT RELOADING</del> won‚Äôt apply.</li></ul><blockquote><p>Note : This method is being used since the introduction of ES6, previously we used to bind <em>this</em> using above two methods. Even though syntax looks ugly, its better to use this approach for better performance.</p></blockquote><p>If calling bind annoys you, there are two ways to get around this. One is <em>Arrow functions</em>, which we already saw . Other method is <a href=https://babeljs.io/docs/en/babel-plugin-transform-class-properties/>experimental public class fields</a> syntax, you can use <em><em>class fields</em></em> <em>to correctly set bind</em> callbacks.</p><p><a href=https://reactjs.org/docs/handling-events.html>Source:</a></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>LoggingButton</span> <span class=kr>extends</span> <span class=nx>React</span><span class=p>.</span><span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=c1>// This syntax ensures `this` is bound within handleClick.
</span><span class=ln> 3</span><span class=c1></span>  <span class=c1>// Warning: this is *experimental* syntax.
</span><span class=ln> 4</span><span class=c1></span>
<span class=ln> 5</span>  <span class=c1>// babel will bind this in a constructor
</span><span class=ln> 6</span><span class=c1></span>
<span class=ln> 7</span><span class=cm>/*BEHIND THE SCENES ...*/</span>
<span class=ln> 8</span>
<span class=ln> 9</span>  <span class=c1>// constructor(){
</span><span class=ln>10</span><span class=c1></span>  <span class=c1>//   this.handleClick = () =&gt;{
</span><span class=ln>11</span><span class=c1></span>  <span class=c1>//     /**/
</span><span class=ln>12</span><span class=c1></span>  <span class=c1>//   }
</span><span class=ln>13</span><span class=c1></span>
<span class=ln>14</span>  <span class=p>}</span>
<span class=ln>15</span>  <span class=nx>handleClick</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
<span class=ln>16</span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;this is:&#34;</span><span class=p>,</span> <span class=k>this</span><span class=p>);</span>
<span class=ln>17</span>  <span class=p>};</span>
<span class=ln>18</span>
<span class=ln>19</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>20</span>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Click</span> <span class=nx>me</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=ln>21</span>  <span class=p>}</span>
<span class=ln>22</span><span class=p>}</span>
</code></pre></div><h3 id=method-binding-with-arguments>Method Binding with Arguments</h3><p>In our previous examples, <code>this.dispenseWisdom</code> didn‚Äôt take any arguments. But what if we need to pass arguments to an event handler?</p><h4 id=example-1>Example:</h4><p><em>ButtonList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>ButtonList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=kr>static</span> <span class=nx>defaultProps</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=nx>colors</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;green&#34;</span><span class=p>,</span> <span class=s2>&#34;red&#34;</span><span class=p>,</span> <span class=s2>&#34;blue&#34;</span><span class=p>,</span> <span class=s2>&#34;peachpuff&#34;</span><span class=p>],</span>
<span class=ln> 4</span>  <span class=p>};</span>
<span class=ln> 5</span>
<span class=ln> 6</span>  <span class=nx>handleClick</span><span class=p>(</span><span class=nx>color</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 7</span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`You clicked on the </span><span class=si>${</span><span class=nx>color</span><span class=si>}</span><span class=sb> button.`</span><span class=p>);</span>
<span class=ln> 8</span>  <span class=p>}</span>
<span class=ln> 9</span>
<span class=ln>10</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>11</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>12</span>      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;ButtonList&#34;</span><span class=o>&gt;</span>
<span class=ln>13</span>        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>colors</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>c</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
<span class=ln>14</span>          <span class=kr>const</span> <span class=nx>colorObj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>backgroundColor</span><span class=o>:</span> <span class=nx>c</span> <span class=p>};</span>
<span class=ln>15</span>          <span class=k>return</span> <span class=p>(</span>
<span class=hl><span class=ln>16</span>            <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>colorObj</span><span class=p>}</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>c</span><span class=p>)}</span><span class=o>&gt;</span>
</span><span class=ln>17</span>              <span class=nx>Click</span> <span class=nx>on</span> <span class=nx>me</span><span class=o>!</span>
<span class=ln>18</span>            <span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=ln>19</span>          <span class=p>);</span>
<span class=ln>20</span>        <span class=p>})}</span>
<span class=ln>21</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>22</span>    <span class=p>);</span>
<span class=ln>23</span>  <span class=p>}</span>
<span class=ln>24</span><span class=p>}</span>
</code></pre></div><p>Inside of a <em>loop</em>, you can <em>bind and pass in additional arguments</em>. Also possible to use an <em>arrow function</em>, <strong>both these approaches suffer from the same performance downsides</strong> we‚Äôve already seen. We can do better, but first we need to talk about‚Ä¶</p><h3 id=passing-functions-to-child-components>Passing functions to child components</h3><ul><li>A very <em>common pattern in React</em></li><li><em>The idea</em>: <strong>children are often not stateful</strong>, but <em>need to tell parents to change state</em></li><li>How do we <em><strong>send data ‚Äúback up‚Äù to a parent</strong></em> component ?</li></ul><h4 id=how-data-flows>How data flows</h4><ul><li>A <strong>parent</strong> component <em>defines</em> a <strong>function</strong></li><li>The <em><em>function</em></em> is <em>passed as</em> a <em><em>prop</em></em> to a <em>child</em> component</li><li>Now , the <em><em>child</em></em> component has the function and it can <em>invoke</em> it as a the <em><em>prop</em></em></li><li>That calls the <strong>parent function</strong> , where usually <em><em>a new state is set or update the exisisting state</em></em></li><li>As the state causes the change in the parent state, the <strong>parent</strong> component is <em><em>re-rendered</em></em> along <strong>with its children</strong></li></ul><h4 id=what-it-looks-like>What it looks like?</h4><p><em>Not an ideal way:</em></p><p><em>NumberList.js</em> :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>NumberList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>nums</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span> <span class=p>};</span>
<span class=ln> 5</span>  <span class=p>}</span>
<span class=ln> 6</span>
<span class=ln> 7</span>  <span class=nx>remove</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 8</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>((</span><span class=nx>st</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>({</span>
<span class=ln> 9</span>      <span class=nx>nums</span><span class=o>:</span> <span class=nx>st</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>n</span> <span class=o>!==</span> <span class=nx>num</span><span class=p>),</span>
<span class=ln>10</span>    <span class=p>}));</span>
<span class=ln>11</span>  <span class=p>}</span>
<span class=ln>12</span>
<span class=ln>13</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>14</span>    <span class=kd>let</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=ln>15</span>      <span class=o>&lt;</span><span class=nx>NumberItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=nx>n</span><span class=p>)}</span> <span class=o>/&gt;</span>
<span class=ln>16</span>    <span class=p>));</span>
<span class=ln>17</span>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
<span class=ln>18</span>  <span class=p>}</span>
<span class=ln>19</span><span class=p>}</span>
</code></pre></div><p><em>NumberItem.js</em> :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>NumberItem</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln> 4</span>      <span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=ln> 5</span>        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>value</span><span class=p>}</span>
<span class=ln> 6</span>        <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=ln> 7</span>      <span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=ln> 8</span>    <span class=p>);</span>
<span class=ln> 9</span>  <span class=p>}</span>
<span class=ln>10</span><span class=p>}</span>
</code></pre></div><ul><li>We could also <em><strong>method bind inside of the map</strong></em></li><li>In fact, we can do even better!</li></ul><h4 id=using-a-single-bound-function>Using a single bound function</h4><p><em>BetterNumList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>BetterNumList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>nums</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span> <span class=p>};</span>
<span class=ln> 5</span>    <span class=k>this</span><span class=p>.</span><span class=nx>remove</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln> 6</span>  <span class=p>}</span>
<span class=ln> 7</span>
<span class=ln> 8</span>  <span class=nx>remove</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 9</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>((</span><span class=nx>st</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>({</span>
<span class=ln>10</span>      <span class=nx>nums</span><span class=o>:</span> <span class=nx>st</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>n</span> <span class=o>!==</span> <span class=nx>num</span><span class=p>),</span>
<span class=ln>11</span>    <span class=p>}));</span>
<span class=ln>12</span>  <span class=p>}</span>
<span class=ln>13</span>
<span class=ln>14</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>15</span>    <span class=kd>let</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=ln>16</span>      <span class=o>&lt;</span><span class=nx>BetterNumItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span> <span class=o>/&gt;</span>
<span class=ln>17</span>    <span class=p>));</span>
<span class=ln>18</span>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
<span class=ln>19</span>  <span class=p>}</span>
<span class=ln>20</span><span class=p>}</span>
</code></pre></div><p><em>BetterNumItem.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>NumberItem</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>handleRemove</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleRemove</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln> 5</span>  <span class=p>}</span>
<span class=ln> 6</span>
<span class=ln> 7</span>  <span class=nx>handleRemove</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 8</span>    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=ln> 9</span>  <span class=p>}</span>
<span class=ln>10</span>
<span class=ln>11</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>12</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>13</span>      <span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=ln>14</span>        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>value</span><span class=p>}</span>
<span class=ln>15</span>        <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleRemove</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=ln>16</span>      <span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=ln>17</span>    <span class=p>);</span>
<span class=ln>18</span>  <span class=p>}</span>
<span class=ln>19</span><span class=p>}</span>
</code></pre></div><h4 id=where-to-bind>Where to bind?</h4><ul><li><em><strong>The higher the better</strong></em> - <strong>don‚Äôt bind in the child component</strong> if not needed.</li><li>If you need a parameter, <em><strong>pass it down to the child as a prop</strong></em>, <em><strong>then bind in parent and child</strong></em></li><li><em><strong>Avoid inline arrow functions and binding inside of render</strong></em> <strong>if possible</strong> -> for performance reasons.</li><li><em>No need to bind in the constructor</em> <em><em>and</em></em> <em>make an inline function</em> -> Do either one of them. I always prefer <em><strong>in the constructor</strong></em></li><li>If you get stuck, don‚Äôt worry about performance, just try to get the communication working<ul><li>You can always refactor later!</li></ul></li></ul><h4 id=naming-conventions>Naming Conventions</h4><ul><li><p>You can call these handlers whatever you want - React doesn‚Äôt care</p></li><li><p>For consistency, <em>try to follow the <code>action/handleAction</code></em> ( <code>action</code> in parent and <code>handleAction</code> in child) pattern:</p><ul><li>In the parent, give the function a name corresponding to the behavior (<code>remove</code>, <code>add</code>, <code>open</code>, <code>toggle</code>, etc.) [send as props]</li><li>In the child, use the name of the action along with ‚Äúhandle‚Äù to name the event handler (<code>handleRemove</code>, <code>handleAdd</code>, <code>handleOpen</code>, <code>handleToggle</code>, etc.)</li></ul></li></ul><hr><h3 id=lists-and-keys>Lists and Keys</h3><p><em>BetterNumList.js</em> :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>class</span> <span class=nx>BetterNumList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>3</span>    <span class=kd>let</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=ln>4</span>      <span class=o>&lt;</span><span class=nx>BetterNumItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span> <span class=o>/&gt;</span>
<span class=ln>5</span>    <span class=p>));</span>
<span class=ln>6</span>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
<span class=ln>7</span>  <span class=p>}</span>
<span class=ln>8</span><span class=p>}</span>
</code></pre></div><p>When mapping over data and returning components, you get a warning about keys for list items.<em><em>key</em></em> is a <em>special string attr</em> to <em>include when creating lists of elements</em></p><blockquote><p>When choosing a <strong>key</strong>it is important to note that, it need to be <strong>unique</strong>.</p></blockquote><h4 id=adding-keys>Adding keys</h4><p>Let‚Äôs assign a key to our list items inside <em>nums.map()</em>:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>class</span> <span class=nx>NumberList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>3</span>    <span class=kr>const</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=ln>4</span>      <span class=o>&lt;</span><span class=nx>NumberItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span> <span class=o>/&gt;</span>
<span class=ln>5</span>    <span class=p>));</span>
<span class=ln>6</span>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
<span class=ln>7</span>  <span class=p>}</span>
<span class=ln>8</span><span class=p>}</span>
</code></pre></div><h4 id=keys>Keys</h4><blockquote><p><strong>Keys</strong> help React <em><strong>identify which items are changed/added/removed</strong></em>. Keys <em><strong>should be given to repeated elems</strong></em> to provide a stable identity.</p></blockquote><h4 id=picking-a-key>Picking a key</h4><blockquote><p><em>Best way</em>: <em><em>use string</em></em> that <strong>uniquely</strong> identifies item <strong>among siblings</strong>. Most often you would <em><em>use IDs</em></em> from your <em>data</em> [data from db or api etc.] as keys:</p></blockquote><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kd>let</span> <span class=nx>todoItems</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=ln>2</span>  <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=ln>3</span><span class=p>));</span>
</code></pre></div><h4 id=last-resort>Last resort</h4><blockquote><p>When you don‚Äôt have stable IDs for rendered items, you may <em><em>use the iteration index</em></em> as a key as a last resort</p></blockquote><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=c1>// Only do this if items have no stable IDs
</span><span class=ln>2</span><span class=c1></span>
<span class=ln>3</span><span class=kr>const</span> <span class=nx>todoItems</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=ln>4</span>  <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>index</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=ln>5</span><span class=p>));</span>
</code></pre></div><p><em>A good rule of thumb:</em></p><blockquote><p>Don‚Äôt use <del>indexes</del> for keys <em>if item order may change or items can be deleted</em>. This can cause <em>performance problems</em> or bugs with component state.</p></blockquote><blockquote><p><em>A goodread:</em> <a href=https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318>Index as a key is an anti-pattern</a></p></blockquote><hr><blockquote><p><a href=https://www.npmjs.com/package/shortid>shortid</a> &<a href=https://www.npmjs.com/package/uuid>uuid</a> npm packages helps us to create unique ids</p></blockquote></div><div style=margin-top:2rem><i class="fas fa-tags" style=font-size:.7em;color:gray></i><a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/react>&nbsp;react</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/javascript>&nbsp;javascript</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/es6>&nbsp;es6</a></div><div style=margin-top:5rem><a href=https://g-savitha.github.io/notes/ch-04-react-state-patterns/ class="prev-next older">React State Patterns&Rarr;</a>
<a href=https://g-savitha.github.io/notes/ch-06-react-forms/ class="prev-next newer">&Larr;React Forms</a></div><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/g-savitha.github.io\/"},"articleSection":"notes","name":"React Events","headline":"React Events","description":"Note: These notes are taken from Colt steele\u0026rsquo;s Modern React Bootcamp course\n React Events Review Commonly used React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)\nEvent Attributes Any event you can listen for in JS, you can listen for in React.\nExamples:\n Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare.","inLanguage":"en-US","author":"Savitha","creator":"Savitha","publisher":"Savitha","accountablePerson":"Savitha","copyrightHolder":"Savitha","copyrightYear":"25250","datePublished":"2020-08-25 14:55:24 \u002b0530 \u002b0530","dateModified":"2020-08-25 14:55:24 \u002b0530 \u002b0530","url":"https:\/\/g-savitha.github.io\/notes\/ch-05-react-events\/","wordCount":"1507","keywords":["react","javascript","es6","Blog"]}</script><script type=module>
  import { annotate } from "https://unpkg.com/rough-notation?module";

  function checkParent(elem) {
    const parent = elem.parentElement;
    const strong = document.createElement("strong");
    const em = document.createElement("em");
    const del = document.createElement("del");
    console.log(elem.hasChildNodes(), elem);

    if (
      parent.constructor === strong.constructor ||
      parent.constructor === em.constructor ||
      parent.constructor === del.constructor
    )
      return false;
    if (elem.childElementCount > 0) return false;
    return true;
  }

  function annotateElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      const shouldAllowAnnotation = checkParent(elem);
      if (shouldAllowAnnotation)
        annotate(elem, { type, color, multiline: true, animate: false }).show();
    });
  }

  function annotateNestedElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      annotate(elem, {
        type,
        color,
        multiline: true,
        animate: false,
        brackets: ["left", "right", "top", "bottom"],
      }).show();
    });
  }

  try {
    annotateElement("em", "underline", "#2196f3");
    annotateElement("strong", "highlight", "yellow");
    annotateElement("del", "strike-through", "#ff0000");
    annotateNestedElement("em > del", "crossed-off", "#ff0000");
    annotateNestedElement("em > strong", "box", "lawngreen");
    annotateNestedElement("em > em", "circle", "#ff000080");
    annotateNestedElement("blockquote", "bracket", "#da3bf1");
  } catch (exception) {
    console.log(exception.message);
  }
</script><style>.section-content em,.section-content strong,.section-content del{font-style:normal;font-weight:400;text-decoration:none}blockquote{background-color:#fff;padding:.3rem;margin:2rem 0}</style></div><footer style="padding:6rem 1rem 2rem;text-align:center;color:gray"><small style=display:block><code>ch-05-react-events.md</code> was last updated on
<code>1 February, 2021</code>. Generated
from
<a target=_blank href=https://github.com/g-savitha/portfolio/tree/e0e47b66eafdf57e04d50a47e1bbe447029bdf15 style=text-decoration:none><code>e0e47b6</code></a>
because of <code>copyright info</code></small>
<small>built with <a href=https://gohugo.io>hugo</a> and
<span style=color:red>‚ù§Ô∏è</span> <span>&#169; 2020</span>
<a href=https://github.com/g-savitha>Savitha Gollamudi</a></small></footer><script>(()=>{if(document.queryCommandSupported("copy")){const codeBlocks=[...document.querySelectorAll(".highlight")];codeBlocks.forEach((block)=>{block.querySelector("pre.chroma").style.paddingTop="3rem";block.style.position="relative";const handler=document.createElement("button");handler.textContent="COPY";handler.style.position="absolute";handler.style.top="10px";handler.style.right="10px";handler.style.padding="0.25rem 0.5rem";handler.style.background="#272822";handler.style.borderRadius="4px";handler.style.border="1px solid #C9D5DE";handler.style.color="#ffffff";handler.addEventListener("click",()=>{const textarea=document.createElement("textarea");textarea.value=block.querySelector(".chroma > code").textContent;document.body.prepend(textarea);textarea.style.position="absolute";textarea.style.opacity=0;textarea.select();document.execCommand("copy");textarea.remove();handler.textContent="COPIED!";setTimeout(()=>(handler.textContent="COPY"),2000);});const langCard=document.createElement("span");const lang=block.querySelector(".chroma > code").classList.toString().split("language-")[1];langCard.textContent=lang;langCard.style.top="0";langCard.style.left="1rem";langCard.style.color="#ffffff";langCard.style.fontSize="0.7em";langCard.style.position="absolute";langCard.style.background="#3f51b5";langCard.style.padding="0.25rem 0.5rem";langCard.style.textTransform="uppercase";langCard.style.borderRadius="0 0 4px 4px";block.prepend(langCard);block.prepend(handler);});}})();</script></body></html>