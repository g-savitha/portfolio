<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://g-savitha.github.io/css/base.css media=all><link rel=stylesheet href=https://g-savitha.github.io/css/syntax.css media=all><link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel=stylesheet><script async src=https://kit.fontawesome.com/66c0687ece.js crossorigin=anonymous></script><meta name=description content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 Forms  HTML form elements work differently than other DOM elements in React  Form elements naturally keep some internal state. For example, this form in plain HTML accepts a single name:    1<form> 2 <label for=&#34;fullname&#34;>Full Name:</label> 3 <input name=&#34;fullname&#34; /> 4 <button>Add!</button> 5</form> Thinking About State 1<form> 2 <label for=&#34;fullname&#34;>Full Name:</label> 3 <input name=&#34;fullname&#34; /> 4 <button>Add!"><meta name=title content="React Forms | Savitha's Notes"><meta name=keywords content="tech,programming,javascript,react,rust,nodejs,node,mongodb,postgresql"><meta name=robots content="index, follow"><meta charset=utf-8><meta name=language content="English"><meta name=revisit-after content="2 days"><meta name=author content="Abdus <mail@abdus.xyz>"><meta property="og:type" content="website"><meta property="og:url" content="https://g-savitha.github.io/notes/ch-06-react-forms/"><meta property="og:title" content="React Forms | Savitha's Notes"><meta property="og:description" content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 Forms  HTML form elements work differently than other DOM elements in React  Form elements naturally keep some internal state. For example, this form in plain HTML accepts a single name:    1<form> 2 <label for=&#34;fullname&#34;>Full Name:</label> 3 <input name=&#34;fullname&#34; /> 4 <button>Add!</button> 5</form> Thinking About State 1<form> 2 <label for=&#34;fullname&#34;>Full Name:</label> 3 <input name=&#34;fullname&#34; /> 4 <button>Add!"><meta property="og:image" content="https://g-savitha.github.io/images/default-meta-img.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://g-savitha.github.io/notes/ch-06-react-forms/"><meta property="twitter:title" content="React Forms | Savitha's Notes"><meta property="twitter:description" content="Note: These notes are taken from Colt steele&rsquo;s Modern React Bootcamp course
 Forms  HTML form elements work differently than other DOM elements in React  Form elements naturally keep some internal state. For example, this form in plain HTML accepts a single name:    1<form> 2 <label for=&#34;fullname&#34;>Full Name:</label> 3 <input name=&#34;fullname&#34; /> 4 <button>Add!</button> 5</form> Thinking About State 1<form> 2 <label for=&#34;fullname&#34;>Full Name:</label> 3 <input name=&#34;fullname&#34; /> 4 <button>Add!"><meta property="twitter:image" content="https://g-savitha.github.io/images/default-meta-img.png"><title>React Forms | Savitha's Notes</title><meta name=google-site-verification content="SaBE4itR48HOEifszgie57M1Y1O9Ayk_rV5cBwah9LY"><body><small class=top-nav><a href=/>~/Home</a>
<a href=/notes/>~/Notes</a>
<a href=/categories/>~/Categories</a></small>
<a href=https://g-savitha.github.io/ style=text-align:center;display:block;margin-top:3rem><div class=logo><span>#"</span><span>Savitha's Notes</span><span>"</span></div></a><div id=content><div style="text-align:center;margin:3rem 0"><h2>React Forms</h2><small>30 August, 2020&nbsp;&nbsp;&#183;&nbsp;&nbsp;</small>
<small><a style=text-decoration:none href=/categories/react>React</a></small></div><div style=margin-bottom:3rem><a style=display:inline-block;color:gray;text-decoration:none;font-size:.9em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100% href=https://www.udemy.com/course/modern-react-bootcamp/><i style=font-size:.75em;color:#d3d3d3 class="fas fa-link"></i>&nbsp; https://www.udemy.com/course/modern-react-bootcamp/</a></div><div class=section-content style=color:#252525><blockquote><p>Note: These notes are taken from <a href=https://github.com/Colt>Colt steele&rsquo;s</a> <a href=https://www.udemy.com/course/modern-react-bootcamp/>Modern React Bootcamp course</a></p></blockquote><h2 id=forms>Forms</h2><ul><li>HTML form elements work differently than other DOM elements in React<ul><li>Form elements naturally keep some internal state.</li><li>For example, this form in plain HTML accepts a single name:</li></ul></li></ul><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=o>&lt;</span><span class=nx>form</span><span class=o>&gt;</span>
<span class=ln>2</span>  <span class=o>&lt;</span><span class=nx>label</span> <span class=k>for</span><span class=o>=</span><span class=s2>&#34;fullname&#34;</span><span class=o>&gt;</span><span class=nx>Full</span> <span class=nx>Name</span><span class=o>:&lt;</span><span class=err>/label&gt;</span>
<span class=ln>3</span>  <span class=o>&lt;</span><span class=nx>input</span> <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;fullname&#34;</span> <span class=o>/&gt;</span>
<span class=ln>4</span>  <span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Add</span><span class=o>!&lt;</span><span class=err>/button&gt;</span>
<span class=ln>5</span><span class=o>&lt;</span><span class=err>/form&gt;</span>
</code></pre></div><h3 id=thinking-about-state>Thinking About State</h3><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=o>&lt;</span><span class=nx>form</span><span class=o>&gt;</span>
<span class=ln>2</span>  <span class=o>&lt;</span><span class=nx>label</span> <span class=k>for</span><span class=o>=</span><span class=s2>&#34;fullname&#34;</span><span class=o>&gt;</span><span class=nx>Full</span> <span class=nx>Name</span><span class=o>:&lt;</span><span class=err>/label&gt;</span>
<span class=ln>3</span>  <span class=o>&lt;</span><span class=nx>input</span> <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;fullname&#34;</span> <span class=o>/&gt;</span>
<span class=ln>4</span>  <span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Add</span><span class=o>!&lt;</span><span class=err>/button&gt;</span>
<span class=ln>5</span><span class=o>&lt;</span><span class=err>/form&gt;</span>
</code></pre></div><p>It’s convenient to have a JS function that <em>handles the submission</em> of the form and <em>has access to the data the user entered</em>.</p><p>The technique to get this is <em><strong>controlled components</strong></em>.</p><h2 id=controlled-components>Controlled Components</h2><ul><li>In HTML, form elements such as <code>&lt;input></code>,<code> &lt;textarea></code>, and <code>&lt;select></code> typically <em>maintain their own state</em> and <em>update it</em> based <em>on user input</em>.</li><li><em>In React</em>, <em>mutable state</em> is kept in the <em><em>state</em></em> <em>of components</em>, and only <strong>updated with setState()</strong>.</li></ul><p>How do we use React to control form input state?</p><h3 id=one-source-of-truth>One Source of Truth</h3><ul><li>We make the <em><strong>React state be the “single source of truth”</strong></em></li><li><em>React controls</em>:<ul><li>What is <em>shown</em> <em><strong>(the value of the component)</strong></em></li><li>What happens the <em>user types</em> <em><strong>(this gets kept in state)</strong></em></li></ul></li></ul><p>Input elements controlled in this way are called <em>“controlled components”.</em></p><h3 id=example-form-component>Example Form Component</h3><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>NameForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=c1>// default fullName is an empty string
</span><span class=ln> 5</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>fullName</span><span class=o>:</span> <span class=s2>&#34;&#34;</span> <span class=p>};</span>
<span class=ln> 6</span>    <span class=k>this</span><span class=p>.</span><span class=nx>handleChange</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleChange</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln> 7</span>    <span class=k>this</span><span class=p>.</span><span class=nx>handleSubmit</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleSubmit</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln> 8</span>  <span class=p>}</span>
<span class=ln> 9</span>
<span class=ln>10</span>  <span class=nx>handleSubmit</span><span class=p>(</span><span class=nx>evt</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>11</span>    <span class=c1>// do something with form data
</span><span class=ln>12</span><span class=c1></span>  <span class=p>}</span>
<span class=ln>13</span>  <span class=nx>handleChange</span><span class=p>(</span><span class=nx>evt</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>14</span>    <span class=c1>// runs on every keystroke event
</span><span class=ln>15</span><span class=c1></span>  <span class=p>}</span>
<span class=ln>16</span>
<span class=ln>17</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>18</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>19</span>      <span class=o>&lt;</span><span class=nx>form</span> <span class=nx>onSubmit</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleSubmit</span><span class=p>}</span><span class=o>&gt;</span>
<span class=ln>20</span>        <span class=o>&lt;</span><span class=nx>label</span> <span class=nx>htmlFor</span><span class=o>=</span><span class=s2>&#34;fullname&#34;</span><span class=o>&gt;</span><span class=nx>Full</span> <span class=nx>Name</span><span class=o>:&lt;</span><span class=err>/label&gt;</span>
<span class=ln>21</span>        <span class=o>&lt;</span><span class=nx>input</span>
<span class=ln>22</span>          <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;fullname&#34;</span>
<span class=ln>23</span>          <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>fullName</span><span class=p>}</span>
<span class=ln>24</span>          <span class=nx>onChange</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleChange</span><span class=p>}</span>
<span class=ln>25</span>        <span class=o>/&gt;</span>
<span class=ln>26</span>        <span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Add</span><span class=o>!&lt;</span><span class=err>/button&gt;</span>
<span class=ln>27</span>      <span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=ln>28</span>    <span class=p>);</span>
<span class=ln>29</span>  <span class=p>}</span>
<span class=ln>30</span><span class=p>}</span>
</code></pre></div><h2 id=how-the-controlled-form-works>How the Controlled Form Works</h2><ul><li>Since <em><em>value</em></em> attribute is set on element, <em><strong>displayed value will always be <code>this.state.fullName</code></strong></em> — <em>making the React state the source of truth.</em></li><li>Since <em><strong><code>handleChange</code> runs on every keystroke to update the React state</strong></em>, the <strong>displayed value will update as the user types.</strong></li><li>With a controlled component, <em>every state mutation will have an associated handler function.</em> This makes it easy to modify or validate user input.</li></ul><h3 id=handlechange-method>handleChange Method</h3><p>Here is the method that updates state based on input.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>NameForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=c1>// ...
</span><span class=ln> 3</span><span class=c1></span>
<span class=ln> 4</span>  <span class=nx>handleChange</span><span class=p>(</span><span class=nx>evt</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 5</span>    <span class=c1>// runs on every keystroke
</span><span class=ln> 6</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span>
<span class=hl><span class=ln> 7</span>      <span class=nx>fullName</span><span class=o>:</span> <span class=nx>evt</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span>
</span><span class=ln> 8</span>    <span class=p>});</span>
<span class=ln> 9</span>  <span class=p>}</span>
<span class=ln>10</span>
<span class=ln>11</span>  <span class=c1>// ...
</span><span class=ln>12</span><span class=c1></span><span class=p>}</span>
</code></pre></div><h2 id=handling-multiple-inputs>Handling Multiple Inputs</h2><ul><li>ES2015 introduced a few object enhancements…</li><li>This includes the ability to <strong>create objects with dynamic keys</strong> <em>based on JavaScript expressions</em>.</li><li>The feature is called <em>computed property names</em>.</li></ul><h5 id=computed-property-names>Computed Property Names</h5><p><em>ES5</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kd>var</span> <span class=nx>catData</span> <span class=o>=</span> <span class=p>{};</span>
<span class=ln>2</span><span class=kd>var</span> <span class=nx>microchip</span> <span class=o>=</span> <span class=mi>1432345421</span><span class=p>;</span>
<span class=ln>3</span><span class=nx>catData</span><span class=p>[</span><span class=nx>microchip</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Blue Steele&#34;</span><span class=p>;</span>
</code></pre></div><p><em>ES2015</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kd>let</span> <span class=nx>microchip</span> <span class=o>=</span> <span class=mi>1432345421</span><span class=p>;</span>
<span class=ln>2</span><span class=kd>let</span> <span class=nx>catData</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln>3</span>  <span class=c1>// propery computed inside the object literal
</span><span class=ln>4</span><span class=c1></span>  <span class=p>[</span><span class=nx>microchip</span><span class=p>]</span><span class=o>:</span> <span class=s2>&#34;Blue Steele&#34;</span><span class=p>,</span>
<span class=ln>5</span><span class=p>};</span>
</code></pre></div><h3 id=application-to-react-form-components>Application To React Form Components</h3><p>Instead of making a separate onChange handler for every single input, we can <em><strong>make one generic function for multiple inputs!</strong></em></p><h4 id=handling-multiple-inputs-1>Handling Multiple Inputs</h4><p>To handle multiple controlled inputs, add the <em>HTML</em> <em><em>name</em></em> <em>attribute to each JSX input element</em> and <em>let handler function decide</em> the <em>appropriate key in state to update</em> based on <em><em>event.target.name.</em></em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>YourComponent</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=c1>// ...
</span><span class=ln> 3</span><span class=c1></span>
<span class=ln> 4</span>  <span class=nx>handleChange</span><span class=p>(</span><span class=nx>evt</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 5</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span>
<span class=ln> 6</span>      <span class=p>[</span><span class=nx>evt</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>name</span><span class=p>]</span><span class=o>:</span> <span class=nx>evt</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span>
<span class=ln> 7</span>    <span class=p>});</span>
<span class=ln> 8</span>  <span class=p>}</span>
<span class=ln> 9</span>
<span class=ln>10</span>  <span class=c1>// ...
</span><span class=ln>11</span><span class=c1></span><span class=p>}</span>
</code></pre></div><p>Using this method, the <strong>keys in state have to match the input <code>name</code> attributes exactly</strong>.</p><p><em>The state:</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>firstName</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=nx>lastName</span><span class=o>:</span> <span class=s2>&#34;&#34;</span> <span class=p>};</span>
</code></pre></div><p><em>NameForm.js;</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>NameForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>handleChange</span><span class=p>(</span><span class=nx>evt</span><span class=p>)</span> <span class=p>{</span>
<span class=hl><span class=ln> 3</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span> <span class=p>[</span><span class=nx>evt</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>name</span><span class=p>]</span><span class=o>:</span> <span class=nx>evt</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span> <span class=p>});</span>
</span><span class=ln> 4</span>  <span class=p>}</span>
<span class=ln> 5</span>
<span class=ln> 6</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln> 7</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln> 8</span>      <span class=o>&lt;</span><span class=nx>form</span> <span class=nx>onSubmit</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleSubmit</span><span class=p>}</span><span class=o>&gt;</span>
<span class=ln> 9</span>        <span class=o>&lt;</span><span class=nx>label</span> <span class=nx>htmlFor</span><span class=o>=</span><span class=s2>&#34;firstName&#34;</span><span class=o>&gt;</span><span class=nx>First</span><span class=o>:&lt;</span><span class=err>/label&gt;</span>
<span class=ln>10</span>        <span class=o>&lt;</span><span class=nx>input</span>
<span class=ln>11</span>          <span class=nx>id</span><span class=o>=</span><span class=s2>&#34;firstName&#34;</span>
<span class=ln>12</span>          <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;firstName&#34;</span>
<span class=ln>13</span>          <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>firstName</span><span class=p>}</span>
<span class=hl><span class=ln>14</span>          <span class=nx>onChange</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleChange</span><span class=p>}</span>
</span><span class=ln>15</span>        <span class=o>/&gt;</span>
<span class=ln>16</span>
<span class=ln>17</span>        <span class=o>&lt;</span><span class=nx>label</span> <span class=nx>htmlFor</span><span class=o>=</span><span class=s2>&#34;lastName&#34;</span><span class=o>&gt;</span><span class=nx>Last</span><span class=o>:&lt;</span><span class=err>/label&gt;</span>
<span class=ln>18</span>        <span class=o>&lt;</span><span class=nx>input</span>
<span class=ln>19</span>          <span class=nx>id</span><span class=o>=</span><span class=s2>&#34;lastName&#34;</span>
<span class=ln>20</span>          <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;lastName&#34;</span>
<span class=ln>21</span>          <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>lastName</span><span class=p>}</span>
<span class=hl><span class=ln>22</span>          <span class=nx>onChange</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleChange</span><span class=p>}</span>
</span><span class=ln>23</span>        <span class=o>/&gt;</span>
<span class=ln>24</span>        <span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Add</span> <span class=nx>a</span> <span class=k>new</span> <span class=nx>person</span><span class=o>!&lt;</span><span class=err>/button&gt;</span>
<span class=ln>25</span>      <span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=ln>26</span>    <span class=p>);</span>
<span class=ln>27</span>  <span class=p>}</span>
<span class=ln>28</span><span class=p>}</span> <span class=c1>// end
</span></code></pre></div><h2 id=design-pattern-passing-data-up-to-a-parent-component>Design pattern: Passing Data Up to a Parent Component</h2><p>In React we generally have downward data flow. <em>“Smart” parent</em> components with <em>simpler child</em> components.</p><ul><li>But it is common for form components to manage their own state…</li><li>But the <em>smarter parent component usually has a</em> <em><strong>doSomethingOnSubmit method</strong></em> <em>to update its state</em> <strong>after the form submission</strong>…</li><li>So what happens is the <em><strong>parent will pass its doSomethingOnSubmit</strong></em> method down <em><em>as a prop</em></em> to the child.</li><li>The <em><strong>child component</strong></em> <em><em>will call</em></em> this method which will then <em><strong>update the parent’s state</strong></em>.</li><li>The <em>child</em> is still appropriately “dumber”, all it knows is to <em>pass its data into a function it was given</em>.</li></ul><h3 id=shopping-list-example>Shopping List Example</h3><ul><li><em>Parent Component:</em> ShoppingList (manages a list of shopping items)</li><li><em>Child Component:</em> NewListItemForm (a form to add a new shopping item to the list)</li></ul><p><em>ShoppingList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>ShoppingList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=cm>/* Add new item object to cart. */</span>
<span class=ln> 3</span>  <span class=nx>addItem</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 4</span>    <span class=kd>let</span> <span class=nx>newItem</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>item</span><span class=p>,</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>uuid</span><span class=p>()</span> <span class=p>};</span>
<span class=ln> 5</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>((</span><span class=nx>state</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>({</span>
<span class=ln> 6</span>      <span class=nx>items</span><span class=o>:</span> <span class=p>[...</span><span class=nx>state</span><span class=p>.</span><span class=nx>items</span><span class=p>,</span> <span class=nx>newItem</span><span class=p>],</span>
<span class=ln> 7</span>    <span class=p>}));</span>
<span class=ln> 8</span>  <span class=p>}</span>
<span class=ln> 9</span>
<span class=ln>10</span>  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>11</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>12</span>      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;ShoppingList&#34;</span><span class=o>&gt;</span>
<span class=hl><span class=ln>13</span>        <span class=o>&lt;</span><span class=nx>NewListItemForm</span> <span class=nx>addItem</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>addItem</span><span class=p>}</span> <span class=o>/&gt;</span>
</span><span class=ln>14</span>        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>renderItems</span><span class=p>()}</span>
<span class=ln>15</span>      <span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=ln>16</span>    <span class=p>);</span>
<span class=ln>17</span>  <span class=p>}</span>
<span class=ln>18</span><span class=p>}</span>
</code></pre></div><p><em>NewListItemForm.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>class</span> <span class=nx>NewListItemForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln>2</span>  <span class=c1>// Send {name, quantity} to parent - &amp; clear form.
</span><span class=ln>3</span><span class=c1></span>
<span class=ln>4</span>  <span class=nx>handleSubmit</span><span class=p>(</span><span class=nx>evt</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>5</span>    <span class=nx>evt</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=hl><span class=ln>6</span>    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>addItem</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>);</span>
</span><span class=ln>7</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=nx>qty</span><span class=o>:</span> <span class=mi>0</span> <span class=p>});</span>
<span class=ln>8</span>  <span class=p>}</span>
<span class=ln>9</span><span class=p>}</span>
</code></pre></div><h2 id=keys-and-uuids>Keys and UUIDs</h2><h3 id=using-uuid-for-unique-keys>Using UUID for Unique Keys</h3><ul><li>We’ve seen that <em>using an iteration index as a key prop</em> is a <strong>bad idea</strong></li><li>No natural unique key? Use a library to create a <em>uuid</em></li><li>Universally unique identifier (UUID) is a way to <em>uniquely identify info</em></li><li>Install it using <code>npm install uuid</code></li></ul><h4 id=using-the-uuid-module>Using the UUID Module</h4><p><em>ShoppingList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=kr>import</span> <span class=nx>uuid</span> <span class=nx>from</span> <span class=s2>&#34;uuid/v4&#34;</span><span class=p>;</span>
</code></pre></div><p><em>ShoppingList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=kr>class</span> <span class=nx>ShoppingList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
<span class=ln> 2</span>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 3</span>    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
<span class=ln> 4</span>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
<span class=ln> 5</span>      <span class=nx>items</span><span class=o>:</span> <span class=p>[</span>
<span class=hl><span class=ln> 6</span>        <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Milk&#34;</span><span class=p>,</span> <span class=nx>qty</span><span class=o>:</span> <span class=s2>&#34;2 gallons&#34;</span><span class=p>,</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>uuid</span><span class=p>()</span> <span class=p>},</span>
</span><span class=hl><span class=ln> 7</span>        <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Bread&#34;</span><span class=p>,</span> <span class=nx>qty</span><span class=o>:</span> <span class=s2>&#34;2 loaves&#34;</span><span class=p>,</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>uuid</span><span class=p>()</span> <span class=p>},</span>
</span><span class=ln> 8</span>      <span class=p>],</span>
<span class=ln> 9</span>    <span class=p>};</span>
<span class=ln>10</span>    <span class=k>this</span><span class=p>.</span><span class=nx>addItem</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>addItem</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
<span class=ln>11</span>  <span class=p>}</span>
<span class=ln>12</span>  <span class=nx>addItem</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span> <span class=p>{</span>
<span class=hl><span class=ln>13</span>    <span class=kd>let</span> <span class=nx>newItem</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>item</span><span class=p>,</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>uuid</span><span class=p>()</span> <span class=p>};</span>
</span><span class=ln>14</span>    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>((</span><span class=nx>st</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>({</span>
<span class=ln>15</span>      <span class=nx>items</span><span class=o>:</span> <span class=p>[...</span><span class=nx>st</span><span class=p>.</span><span class=nx>items</span><span class=p>,</span> <span class=nx>newItem</span><span class=p>],</span>
<span class=ln>16</span>    <span class=p>}));</span>
<span class=ln>17</span>  <span class=p>}</span>
<span class=ln>18</span>  <span class=nx>renderItems</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>19</span>    <span class=k>return</span> <span class=p>(</span>
<span class=ln>20</span>      <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
<span class=ln>21</span>        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>items</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
<span class=hl><span class=ln>22</span>          <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span>
</span><span class=ln>23</span>            <span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>:</span><span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>qty</span><span class=p>}</span>
<span class=ln>24</span>          <span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=ln>25</span>        <span class=p>))}</span>
<span class=ln>26</span>      <span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=ln>27</span>    <span class=p>);</span>
<span class=ln>28</span>  <span class=p>}</span>
<span class=ln>29</span><span class=p>}</span>
</code></pre></div><h3 id=validation>Validation</h3><ul><li>Useful for UI</li><li><strong>Not an alternative to server side validation</strong></li><li><a href=https://formik.org/docs/overview>Formik</a></li></ul></div><div style=margin-top:2rem><i class="fas fa-tags" style=font-size:.7em;color:gray></i><a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/react>&nbsp;react</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/javascript>&nbsp;javascript</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/es6>&nbsp;es6</a></div><div style=margin-top:5rem><a href=https://g-savitha.github.io/notes/ch-05-react-events/ class="prev-next older">React Events&Rarr;</a>
<a href=https://g-savitha.github.io/notes/ch-07-react-lifecycle-methods/ class="prev-next newer">&Larr;React Lifecycle Methods</a></div><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/g-savitha.github.io\/"},"articleSection":"notes","name":"React Forms","headline":"React Forms","description":"Note: These notes are taken from Colt steele\u0026rsquo;s Modern React Bootcamp course\n Forms  HTML form elements work differently than other DOM elements in React  Form elements naturally keep some internal state. For example, this form in plain HTML accepts a single name:    1\u0026lt;form\u0026gt; 2 \u0026lt;label for=\u0026#34;fullname\u0026#34;\u0026gt;Full Name:\u0026lt;\/label\u0026gt; 3 \u0026lt;input name=\u0026#34;fullname\u0026#34; \/\u0026gt; 4 \u0026lt;button\u0026gt;Add!\u0026lt;\/button\u0026gt; 5\u0026lt;\/form\u0026gt; Thinking About State 1\u0026lt;form\u0026gt; 2 \u0026lt;label for=\u0026#34;fullname\u0026#34;\u0026gt;Full Name:\u0026lt;\/label\u0026gt; 3 \u0026lt;input name=\u0026#34;fullname\u0026#34; \/\u0026gt; 4 \u0026lt;button\u0026gt;Add!","inLanguage":"en-US","author":"Savitha","creator":"Savitha","publisher":"Savitha","accountablePerson":"Savitha","copyrightHolder":"Savitha","copyrightYear":"30300","datePublished":"2020-08-30 17:51:50 \u002b0530 \u002b0530","dateModified":"2020-08-30 17:51:50 \u002b0530 \u002b0530","url":"https:\/\/g-savitha.github.io\/notes\/ch-06-react-forms\/","wordCount":"1054","keywords":["react","javascript","es6","Blog"]}</script><script type=module>
  import { annotate } from "https://unpkg.com/rough-notation?module";

  function checkParent(elem) {
    const parent = elem.parentElement;
    const strong = document.createElement("strong");
    const em = document.createElement("em");
    const del = document.createElement("del");
    console.log(elem.hasChildNodes(), elem);

    if (
      parent.constructor === strong.constructor ||
      parent.constructor === em.constructor ||
      parent.constructor === del.constructor
    )
      return false;
    if (elem.childElementCount > 0) return false;
    return true;
  }

  function annotateElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      const shouldAllowAnnotation = checkParent(elem);
      if (shouldAllowAnnotation)
        annotate(elem, { type, color, multiline: true, animate: false }).show();
    });
  }

  function annotateNestedElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      annotate(elem, {
        type,
        color,
        multiline: true,
        animate: false,
        brackets: ["left", "right", "top", "bottom"],
      }).show();
    });
  }

  try {
    annotateElement("em", "underline", "#2196f3");
    annotateElement("strong", "highlight", "yellow");
    annotateElement("del", "strike-through", "#ff0000");
    annotateNestedElement("em > del", "crossed-off", "#ff0000");
    annotateNestedElement("em > strong", "box", "lawngreen");
    annotateNestedElement("em > em", "circle", "#ff000080");
    annotateNestedElement("blockquote", "bracket", "#da3bf1");
  } catch (exception) {
    console.log(exception.message);
  }
</script><style>.section-content em,.section-content strong,.section-content del{font-style:normal;font-weight:400;text-decoration:none}blockquote{background-color:#fff;padding:.3rem;margin:2rem 0}</style></div><footer style="padding:6rem 1rem 2rem;text-align:center;color:gray"><small style=display:block><code>ch-06-react-forms.md</code> was last updated on
<code>1 February, 2021</code>. Generated
from
<a target=_blank href=https://github.com/g-savitha/portfolio/tree/e0e47b66eafdf57e04d50a47e1bbe447029bdf15 style=text-decoration:none><code>e0e47b6</code></a>
because of <code>copyright info</code></small>
<small>built with <a href=https://gohugo.io>hugo</a> and
<span style=color:red>❤️</span> <span>&#169; 2020</span>
<a href=https://github.com/g-savitha>Savitha Gollamudi</a></small></footer><script>(()=>{if(document.queryCommandSupported("copy")){const codeBlocks=[...document.querySelectorAll(".highlight")];codeBlocks.forEach((block)=>{block.querySelector("pre.chroma").style.paddingTop="3rem";block.style.position="relative";const handler=document.createElement("button");handler.textContent="COPY";handler.style.position="absolute";handler.style.top="10px";handler.style.right="10px";handler.style.padding="0.25rem 0.5rem";handler.style.background="#272822";handler.style.borderRadius="4px";handler.style.border="1px solid #C9D5DE";handler.style.color="#ffffff";handler.addEventListener("click",()=>{const textarea=document.createElement("textarea");textarea.value=block.querySelector(".chroma > code").textContent;document.body.prepend(textarea);textarea.style.position="absolute";textarea.style.opacity=0;textarea.select();document.execCommand("copy");textarea.remove();handler.textContent="COPIED!";setTimeout(()=>(handler.textContent="COPY"),2000);});const langCard=document.createElement("span");const lang=block.querySelector(".chroma > code").classList.toString().split("language-")[1];langCard.textContent=lang;langCard.style.top="0";langCard.style.left="1rem";langCard.style.color="#ffffff";langCard.style.fontSize="0.7em";langCard.style.position="absolute";langCard.style.background="#3f51b5";langCard.style.padding="0.25rem 0.5rem";langCard.style.textTransform="uppercase";langCard.style.borderRadius="0 0 4px 4px";block.prepend(langCard);block.prepend(handler);});}})();</script></body></html>